<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Type of the mean · MonteCarloObservable.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="MonteCarloObservable.jl logo"/></a><h1>MonteCarloObservable.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="gettingstarted.html">Getting started</a></li><li class="current"><a class="toctext" href="meantype.html">Type of the mean</a><ul class="internal"><li><a class="toctext" href="#Issue-1">Issue</a></li><li><a class="toctext" href="#Default-1">Default</a></li><li><a class="toctext" href="#meantype-keyword-1"><code>meantype</code> keyword</a></li></ul></li><li><a class="toctext" href="errorestimation.html">Error estimation</a></li><li><a class="toctext" href="memdisk.html">Memory / disk storage</a></li></ul></li><li><span class="toctext">Methods</span><ul><li><a class="toctext" href="../methods/general.html">General</a></li><li><a class="toctext" href="../methods/statistics.html">Statistics</a></li><li><a class="toctext" href="../methods/io.html">IO</a></li><li><a class="toctext" href="../methods/plotting.html">Plotting</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="meantype.html">Type of the mean</a></li></ul><a class="edit-page" href="https://github.com/crstnbr/MonteCarloObservable.jl/blob/master/docs/src/manual/meantype.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Type of the mean</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Manual-1" href="#Manual-1">Manual</a></h1><h2><a class="nav-anchor" id="Issue-1" href="#Issue-1">Issue</a></h2><p>Let&#39;s assume you have an observable of type <code>Int</code>. You want to add the following measurements to your observable:</p><pre><code class="language-julia">x = Int[44, -70, 14, -32, 18]</code></pre><p>The mean of the observable should afterwards be <code>mean(x) == -5.2</code>. Note that this value, <code>-5.2</code>, exceeds the type <code>Int</code>. Explicitly we can see this if we try to convert it to <code>Int</code>:</p><pre><code class="language-julia">julia&gt; convert(Int, mean(x))
ERROR: InexactError()
Stacktrace:
 [1] convert(::Type{Int}, ::Float64) at .\float.jl:679</code></pre><p>This is, of course, not a particularity of the type <code>Int</code> but happens for many (discrete) data types.</p><h2><a class="nav-anchor" id="Default-1" href="#Default-1">Default</a></h2><p>Let us try the above example explicitly. We create an integer observable,</p><pre><code class="language-julia">julia&gt; myobs = Observable(Int, &quot;My Observable&quot;);</code></pre><p>and add the measurements,</p><pre><code class="language-julia">julia&gt; add!(myobs, Int[44, -70, 14, -32, 18]);</code></pre><p>Let&#39;s see what we get for the mean</p><pre><code class="language-julia">julia&gt; mean(myobs)
-5.2</code></pre><p>So apparently the package handles the above issue.</p><p>How does it do it? Basically it applies a heuristic for setting a resonable type for the mean. It creates an array (or number) of the same dimensionality as a measurement and takes, depending on wether the element type is real or complex, either the type <code>Float64</code> or <code>Complex128</code> as element type for the mean. For the above example we can check this, <code>typeof(mean(myobs)) == Float64</code>.</p><h2><a class="nav-anchor" id="meantype-keyword-1" href="#meantype-keyword-1"><code>meantype</code> keyword</a></h2><p>The above heuristic should be reasonable for most cases. However, if it isn&#39;t you can set the type of the mean explicitly via the keyword <code>meantype</code>. Example:</p><pre><code class="language-julia">julia&gt; myobs = Observable(Int, &quot;My Observable&quot;, meantype=Float32);

julia&gt; add!(myobs, Int[44, -70, 14, -32, 18]);

julia&gt; typeof(mean(myobs)) == Float32</code></pre><footer><hr/><a class="previous" href="gettingstarted.html"><span class="direction">Previous</span><span class="title">Getting started</span></a><a class="next" href="errorestimation.html"><span class="direction">Next</span><span class="title">Error estimation</span></a></footer></article></body></html>
